(defpoll time :interval "1s" "date '+%I:%M %p'")
(defpoll date :interval "1m" "date '+%a %b %d'")

(defwidget clock []
  (eventbox
    :onclick "eww close audio-controls audio-controls-closer cpu-monitor cpu-monitor-closer gpu-monitor gpu-monitor-closer ram-monitor ram-monitor-closer power-menu power-menu-closer 2>/dev/null; eww open calendar-popup-closer && eww open calendar-popup"
    :cursor "pointer"
    (box :class "module clock"
      (label :text "${date} Â· ${time}"))))
